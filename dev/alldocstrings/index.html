<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · LyoPronto.jl</title><meta name="title" content="Reference · LyoPronto.jl"/><meta property="og:title" content="Reference · LyoPronto.jl"/><meta property="twitter:title" content="Reference · LyoPronto.jl"/><meta name="description" content="Documentation for LyoPronto.jl."/><meta property="og:description" content="Documentation for LyoPronto.jl."/><meta property="twitter:description" content="Documentation for LyoPronto.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LyoPronto.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../example_conv/">Example, conventional lyo</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Parameter-Fitting"><span>Parameter Fitting</span></a></li><li><a class="tocitem" href="#Plot-Recipes"><span>Plot Recipes</span></a></li><li><a class="tocitem" href="#Vial-Dimensions"><span>Vial Dimensions</span></a></li><li><a class="tocitem" href="#Model-Equations"><span>Model Equations</span></a></li><li><a class="tocitem" href="#Physical-Properties"><span>Physical Properties</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/LyoHUB/LyoPronto.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/LyoHUB/LyoPronto.jl/blob/main/docs/src/alldocstrings.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="All-Docstrings"><a class="docs-heading-anchor" href="#All-Docstrings">All Docstrings</a><a id="All-Docstrings-1"></a><a class="docs-heading-anchor-permalink" href="#All-Docstrings" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.PrimaryDryFit" href="#LyoPronto.PrimaryDryFit"><code>LyoPronto.PrimaryDryFit</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>PrimaryDryFit: a type for storing experimental data and indicating how it should be fit.</p><p>Provided constructors:</p><pre><code class="nohighlight hljs">PrimaryDryFit(t_Tf, Tfs, Tf_iend, t_Tvw, Tvws, Tvw_iend, t_end)
PrimaryDryFit(t_Tf, Tf::V) where V&lt;:AbstractVector
PrimaryDryFit(t_Tf, Tfs::T) where T&lt;:Tuple
PrimaryDryFit(t_Tf, Tfs, t_end::T) where T&lt;:Unitful.Time
PrimaryDryFit(t_Tf, Tfs, Tvw_end::T) where T&lt;:Unitful.Temperature
PrimaryDryFit(t_Tf, Tfs, Tvw_end::T1, t_end::T2) where {T1&lt;:Unitful.Temperature, T2&lt;:Unitful.Time}
PrimaryDryFit(t_Tf, Tfs, t_Tvw, Tvws) 
PrimaryDryFit(t_Tf, Tfs, t_Tvw, Tvws, t_end)</code></pre><p>The use of this struct is determined in large part by the implementation of  <a href="#LyoPronto.obj_expT-Tuple{Any, Any}"><code>LyoPronto.obj_expT</code></a>. If a given field is not available, set it to <code>missing</code> and things should basically work. At least <code>t_Tf</code> and <code>Tfs</code> are  expected to always be provided.</p><p>With the exception of the two-argument <code>(t_Tf, Tf)</code> constructor, <code>Tfs</code> and <code>Tvws</code> should always be tuples of vectors (one vector per time series).</p><p><code>Tf_iend</code> and <code>Tvw_iend</code> default to <code>[length(Tf) for Tf in Tfs]</code> and <code>[length(Tvw) for Tvw in Tvws]</code>,  respectively, with one value for each temperature series;  they are used to dictate if a given temperature series should be truncated sooner than the full length in the fitting procedure. This implies that all the <code>Tf</code> temperature series are valid initially at the same time points, then stop having measured values after a different number of measurements.</p><p><code>t_end</code> indicates an end of drying, particularly if taken from other measurements (e.g. from Pirani-CM convergence). If set to <code>missing</code>, it is ignored in the objective function.</p><p>Principal Cases:</p><ul><li>Conventional: provide only <code>t_Tf, Tfs</code></li><li>RF with measured vial wall: provide <code>t_Tf, Tfs, t_Tvw, Tvws</code>, </li><li>RF, matching model Tvw to experimental Tf[end] without measured vial wall: provide <code>t_Tf, Tfs, Tvws</code>, set <code>t_Tvw</code> to <code>missing</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/structs.jl#L165-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.RampedVariable" href="#LyoPronto.RampedVariable"><code>LyoPronto.RampedVariable</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A convenience type for computing temperatures, pressures, etc. with multiple setpoints in sequence, and linear interpolation according to a fixed ramp rate between set points</p><p>Three main constructors are available: For a non-varying value, call with one argument:</p><pre><code class="nohighlight hljs">RampedVariable(constant_setpt)</code></pre><p>For one ramp from initial value to set point with indefinite hold, call with two arguments:</p><pre><code class="nohighlight hljs">RampedVariable(setpts, ramprate)</code></pre><p>And for multiple setpoints, call with three arguments:</p><pre><code class="nohighlight hljs">RampedVariable(setpts, ramprates, holds)</code></pre><p>With three arguments, <code>setpts</code>, <code>ramprates</code>, and <code>holds</code> should all be vectors, with lengths N+1, N, N-1 respectively.</p><p>The resulting RampedVariable <code>rv = RampedVariable(...)</code> can be called as <code>rv(x)</code> at any (dimensionally consistent) value of x,  and will return the value at that time point along the ramp process.</p><p>A plot recipe is also provided for this type, e.g. <code>plot(rv; tmax=10u&quot;hr&quot;)</code> where <code>tmax</code> indicates where to stop drawing the last setpoint hold.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/structs.jl#L25-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.RpFormFit" href="#LyoPronto.RpFormFit"><code>LyoPronto.RpFormFit</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A convenience type for dealing with the common functional form given to Rp and Kv.</p><p>An object <code>Rp = RpFormFit(A, B, C)</code> can be called as <code>Rp(x)</code>, which simply computes <code>A + B*x/(1 + C*x)</code>. Likewise, <code>Kv = RpFormFit(Kc, Kp, Kd)</code> can be called as <code>Kv(p)</code> to get <code>Kc + Kp*p/(1 + Kd*p)</code>.</p><p>Be careful to pass dimensionally consistent values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/structs.jl#L3-L10">source</a></section></article><h2 id="Parameter-Fitting"><a class="docs-heading-anchor" href="#Parameter-Fitting">Parameter Fitting</a><a id="Parameter-Fitting-1"></a><a class="docs-heading-anchor-permalink" href="#Parameter-Fitting" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.gen_sol_conv_dim-NTuple{4, Any}" href="#LyoPronto.gen_sol_conv_dim-NTuple{4, Any}"><code>LyoPronto.gen_sol_conv_dim</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gen_sol_conv_dim(KRp_prm, otherparams, u0, tspan; kwargs...)</code></pre><p>Solve the Pikal model for primary drying with given Kv &amp; Rp, returning the solution object and the set of parameters passed to <code>solve</code>.</p><ul><li><code>otherparams</code> contains: <code>(hf0, c_solid, ρ_solution, Av, Ap, pch, Tsh)</code></li><li><code>u0</code> is given as floats (not Unitful quantities), with dimensions [cm, K].</li><li>KRp_prm has the form <code>[Kv, R0, A1, A2]</code>; this function assigns the units <code>[W/m^2/K, cm^2*Torr*hr/g, cm*Torr*hr/g, 1/cm]</code> to those numbers</li><li><code>kwargs</code> is passed directly (as is) to the ODE <code>solve</code> call.</li></ul><p>This is used as a helper for <a href="#LyoPronto.obj_tT_conv-Tuple{Any, Any, Any}"><code>obj_tT_conv</code></a> to assemble a function which takes [Kv, R0, A1, A2] and returns sum squared error against experiment. To that end, use this to make an anonymous function of the form <code>gen_sol = x-&gt;gen_sol_conv_dim(x, case_params, case_u0, case_tspan)</code>. That function is what you will pass to <code>obj_tT_conv</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/paramfits.jl#L4-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.gen_sol_rf_dim-NTuple{4, Any}" href="#LyoPronto.gen_sol_rf_dim-NTuple{4, Any}"><code>LyoPronto.gen_sol_rf_dim</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gen_sol_rf_dim(fitprm, params_bunch, u0, tspan; kwargs...)</code></pre><p>Solve the lumped-capacitance model for microwave-assisted primary drying with given fit parameters, returning the solution object and the set of parameters passed to <code>solve</code>.</p><ul><li><code>fitprm</code> has the form <code>[α, Kvwf, Bf, Bvw]</code>; this function assigns the units <code>[cm^1.5, cal/s/K/cm^2, Ω/m^2, Ω/m^2]</code> to those numbers.</li><li><code>params_bunch</code> contains a full listing of parameters used for the model, according to <a href="#LyoPronto.lumped_cap_rf-Tuple{Any, Any, Any}"><code>lumped_cap_rf</code></a>, including dummy values for the fit parameters.</li><li><code>u0</code> is given as floats (not Unitful quantities), with dimensions [g, K, K].</li><li><code>kwargs</code> is passed directly (as is) to the ODE <code>solve</code> call.</li></ul><p>This is used as a helper for <a href="#LyoPronto.obj_tT_rf-Tuple{Any, Any, Any}"><code>obj_tT_rf</code></a>, <a href="#LyoPronto.obj_tTT_rf-Tuple{Any, Any, Any}"><code>obj_tTT_rf</code></a>, <a href="#LyoPronto.obj_ttTT_rf-Tuple{Any, Any, Any}"><code>obj_ttTT_rf</code></a> to assemble a function which takes [α, Kvwf, Bf, Bvw] and returns sum squared error against experiment. To that end, use this to make an anonymous function of the form <code>gen_sol = x-&gt;gen_sol_rf_dim(x, case_params, case_u0, case_tspan)</code>. That function is what you will pass to <code>obj_tT_rf</code> (or similar).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/paramfits.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.obj_expT-Tuple{Any, Any}" href="#LyoPronto.obj_expT-Tuple{Any, Any}"><code>LyoPronto.obj_expT</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">obj_expT(sol, pdfit; tweight=1, verbose=true, rf = true)</code></pre><p>Experimental (in the software engineering sense)! Evaluate an objective function which compares model solution computed by <code>sol</code> to experimental data in <code>pdfit</code>.</p><ul><li><code>sol</code> is a solution to an appropriate model; see <a href="#LyoPronto.gen_sol_conv_dim-NTuple{4, Any}"><code>gen_sol_conv_dim</code></a> and <a href="#LyoPronto.gen_sol_rf_dim-NTuple{4, Any}"><code>gen_sol_rf_dim</code></a> for some helper functions for this.</li><li><code>pdfit</code> is an instance of <code>PrimaryDryFit</code>, which contains some information about what to compare.</li><li><code>tweight = 1</code> gives the weighting (in K^2/hr^2) of the total drying time in the objective, as compared to the temperature error.</li></ul><p>Note that if <code>pdfit</code> has vial wall temperatures (i.e. <code>ismissing(pdfit.Tvws) == false</code>), the third-index variable returned by <code>gen_sol</code> is assumed to be temperature, as is true for <a href="#LyoPronto.gen_sol_rf_dim-NTuple{4, Any}"><code>gen_sol_rf_dim</code></a>.</p><p>If there are multiple series of <code>Tf</code> in <code>pdfit</code>, squared error is computed for each separately then summed; likewise for <code>Tvw</code>.</p><p>I&#39;ve considered writing several methods and dispatching on <code>pdfit</code> somehow, which would be cool and might individually be easier to read. But control flow might be harder to document and explain, and this should work just fine.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/paramfits.jl#L179-L194">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.obj_tTT_rf-Tuple{Any, Any, Any}" href="#LyoPronto.obj_tTT_rf-Tuple{Any, Any, Any}"><code>LyoPronto.obj_tTT_rf</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">obj_tTT_rf(fitprm, gen_sol, tTTdat; t_end=0.0u&quot;hr&quot;, tweight=1, verbose=true)</code></pre><p>Evaluate an objective function which compares model solution with <code>fitprm</code> to experimental data in <code>tTTdat</code>.</p><ul><li><code>gen_sol</code> is a function taking [α, Kvwf, Bf, Bvw] and returning a solution to lumped-capacitance microwave-assisted model; see <a href="#LyoPronto.gen_sol_rf_dim-NTuple{4, Any}"><code>gen_sol_rf_dim</code></a>.</li><li><code>tTTdat</code> is experimental temperature series, of the form <code>(time, Tf, Tvw)</code>, so with frozen and vial wall temperatures taken at the same time points.    See also <a href="#LyoPronto.obj_tT_rf-Tuple{Any, Any, Any}"><code>obj_tT_rf</code></a> and <a href="#LyoPronto.obj_ttTT_rf-Tuple{Any, Any, Any}"><code>obj_ttTT_rf</code></a>.</li><li><code>tweight</code> gives the weighting (in K^2/hr^2) of the end of drying in the objective, as compared to the temperature error.</li><li><code>t_end</code> has a default value of <code>0.0u&quot;hr&quot;</code>, which (if left at default) is not included in the objective function.</li><li><code>t_end</code> defaults to <code>missing</code>, in which case it is excluded from the objective.   If another value is passed, then the model drying time is compared to that value and included in the objective.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/paramfits.jl#L105-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.obj_tT_conv-Tuple{Any, Any, Any}" href="#LyoPronto.obj_tT_conv-Tuple{Any, Any, Any}"><code>LyoPronto.obj_tT_conv</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">obj_tT_conv(KRp_prm, gen_sol, tTdat; t_end=0.0u&quot;hr&quot;, tweight=1, verbose = true)</code></pre><p>Evaluate an objective function which compares model solution with <code>KRp_prm</code> to experimental data in <code>tTdat</code>.</p><p>Arguments:</p><ul><li><code>gen_sol</code> is a function taking <code>[Kv, R0, A1, A2]</code> and returning a solution to Pikal model; see <a href="#LyoPronto.gen_sol_conv_dim-NTuple{4, Any}"><code>gen_sol_conv_dim</code></a>.</li><li><code>tTdat</code> is experimental temperature series, of the form <code>(time, Tf)</code>.</li><li><code>tweight</code> gives the weighting (in <code>K^2/hr^2</code>) of the end of drying in the objective, as compared to the temperature error.</li><li><code>t_end</code> defaults to <code>missing</code>, in which case it is excluded from the objective.   If another value is passed, then the model drying time is compared to that value and included in the objective.</li><li><code>verbose</code> defaults to <code>true</code>, in which case each call to this function prints info on the passed parameters, etc.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/paramfits.jl#L41-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.obj_tT_rf-Tuple{Any, Any, Any}" href="#LyoPronto.obj_tT_rf-Tuple{Any, Any, Any}"><code>LyoPronto.obj_tT_rf</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">obj_tT_rf(fitprm, gen_sol, tTdat; t_end=0.0u&quot;hr&quot;, tweight=1, Tvw_end = 0.0u&quot;K&quot;, verbose=true)</code></pre><p>Evaluate an objective function which compares model solution with <code>fitprm</code> to experimental data in <code>tTdat</code>.</p><ul><li><code>gen_sol</code> is a function taking <code>[α, Kvwf, Bf, Bvw]</code> and returning a solution to lumped-capacitance microwave-assisted model; see <a href="#LyoPronto.gen_sol_rf_dim-NTuple{4, Any}"><code>gen_sol_rf_dim</code></a>.</li><li><code>tTTdat</code> is experimental temperature series, of the form <code>(time, Tf)</code>, so with frozen temperatures only.    See also <a href="#LyoPronto.obj_tTT_rf-Tuple{Any, Any, Any}"><code>obj_tTT_rf</code></a> and <a href="#LyoPronto.obj_ttTT_rf-Tuple{Any, Any, Any}"><code>obj_ttTT_rf</code></a>.</li><li><code>Tvw_end</code> defaults to <code>missing</code>, in which case vial wall temperatures are excluded from the objective.    If another value is passed, then the final model vial wall temperature is compared to that value and included in the objective.</li><li><code>tweight</code> gives the weighting (in K^2/hr^2) of the end of drying in the objective, as compared to the temperature error.</li><li><code>t_end</code> defaults to <code>missing</code>, in which case it is excluded from the objective.   If another value is passed, then the model drying time is compared to that value and included in the objective.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/paramfits.jl#L130-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.obj_ttTT_rf-Tuple{Any, Any, Any}" href="#LyoPronto.obj_ttTT_rf-Tuple{Any, Any, Any}"><code>LyoPronto.obj_ttTT_rf</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">obj_ttTT_rf(fitprm, gen_sol, ttTTdat; t_end=missing, tweight=1, verbose=true)</code></pre><p>Evaluate an objective function which compares model solution with <code>fitprm</code> to experimental data in <code>tTdat</code>.</p><ul><li><code>gen_sol</code> is a function taking <code>[α, Kvwf, Bf, Bvw]</code> and returning a solution to lumped-capacitance microwave-assisted model; see <a href="#LyoPronto.gen_sol_rf_dim-NTuple{4, Any}"><code>gen_sol_rf_dim</code></a>.</li><li><code>ttTTdat</code> is experimental temperature series, of the form <code>(time_Tf, time_vw, Tf, Tvw)</code>, so with Tf and Tvw having separate time points.    This is useful if there is an early temperature rise in Tf, but Tvw continues to be reliable, so the model can fit to as much of Tvw as reasonable.   See also <a href="#LyoPronto.obj_tTT_rf-Tuple{Any, Any, Any}"><code>obj_tTT_rf</code></a> and <a href="#LyoPronto.obj_tT_rf-Tuple{Any, Any, Any}"><code>obj_tT_rf</code></a>.</li><li><code>tweight</code> gives the weighting (in K^2/hr^2) of the end of drying in the objective, as compared to the temperature error.</li><li><code>t_end</code> defaults to <code>missing</code>, in which case it is excluded from the objective.   If another value is passed, then the model drying time is compared to that value and included in the objective.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/paramfits.jl#L155-L167">source</a></section></article><h2 id="Plot-Recipes"><a class="docs-heading-anchor" href="#Plot-Recipes">Plot Recipes</a><a id="Plot-Recipes-1"></a><a class="docs-heading-anchor-permalink" href="#Plot-Recipes" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.exptfplot" href="#LyoPronto.exptfplot"><code>LyoPronto.exptfplot</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">exptfplot(time, T1, [T2, ...])
exptfplot!(time, T1, [T2, ...])</code></pre><p>Plot recipe for one or more experimentally measured product temperatures, all at same times. This recipe adds one series for each passed temperature series, so pass labels as appropriate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L34-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.exptfplot!" href="#LyoPronto.exptfplot!"><code>LyoPronto.exptfplot!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">exptfplot(time, T1, [T2, ...])
exptfplot!(time, T1, [T2, ...])</code></pre><p>Plot recipe for one or more experimentally measured product temperatures, all at same times. This recipe adds one series for each passed temperature series, so pass labels as appropriate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L34-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.exptvwplot" href="#LyoPronto.exptvwplot"><code>LyoPronto.exptvwplot</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">exptvwplot(time, temperature; trim)
exptvwplot!(time, temperature; trim)</code></pre><p>Plot recipe for a set of experimentally measured vial wall temperatures. This recipe adds only one series to the plot. <code>trim</code> is an integer, indicating how many points to skip at a time, so that  the dotted line looks dotted even with noisy data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L74-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.exptvwplot!" href="#LyoPronto.exptvwplot!"><code>LyoPronto.exptvwplot!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">exptvwplot(time, temperature; trim)
exptvwplot!(time, temperature; trim)</code></pre><p>Plot recipe for a set of experimentally measured vial wall temperatures. This recipe adds only one series to the plot. <code>trim</code> is an integer, indicating how many points to skip at a time, so that  the dotted line looks dotted even with noisy data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L74-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.modconvtplot" href="#LyoPronto.modconvtplot"><code>LyoPronto.modconvtplot</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modconvtplot(sols)
modconvtplot!(sols)</code></pre><p>Plot recipe for one or multiple solutions to the Pikal model, e.g. the output of <a href="#LyoPronto.gen_sol_conv_dim-NTuple{4, Any}"><code>gen_sol_conv_dim</code></a>. This adds one series to the plot for each passed solution, so pass as many labels (e.g. <code>[&quot;Tf1&quot; &quot;Tf2&quot;]</code>) to this plot call as solutions to add labels to the legend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L108-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.modconvtplot!" href="#LyoPronto.modconvtplot!"><code>LyoPronto.modconvtplot!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modconvtplot(sols)
modconvtplot!(sols)</code></pre><p>Plot recipe for one or multiple solutions to the Pikal model, e.g. the output of <a href="#LyoPronto.gen_sol_conv_dim-NTuple{4, Any}"><code>gen_sol_conv_dim</code></a>. This adds one series to the plot for each passed solution, so pass as many labels (e.g. <code>[&quot;Tf1&quot; &quot;Tf2&quot;]</code>) to this plot call as solutions to add labels to the legend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L108-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.modrftplot" href="#LyoPronto.modrftplot"><code>LyoPronto.modrftplot</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modrftplot(sol)
modrftplot!(sol)</code></pre><p>Plot recipe for one solution to the lumped capacitance model, e.g. the output of <a href="#LyoPronto.gen_sol_rf_dim-NTuple{4, Any}"><code>gen_sol_rf_dim</code></a>. This adds two series to the plot, so pass two labels (e.g. <code>[&quot;Tf&quot; &quot;Tvw&quot;]</code>) to this plot call to add labels to the legend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L148-L154">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.modrftplot!" href="#LyoPronto.modrftplot!"><code>LyoPronto.modrftplot!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modrftplot(sol)
modrftplot!(sol)</code></pre><p>Plot recipe for one solution to the lumped capacitance model, e.g. the output of <a href="#LyoPronto.gen_sol_rf_dim-NTuple{4, Any}"><code>gen_sol_rf_dim</code></a>. This adds two series to the plot, so pass two labels (e.g. <code>[&quot;Tf&quot; &quot;Tvw&quot;]</code>) to this plot call to add labels to the legend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L148-L154">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.qrf_integrate-Tuple{Any, Any}" href="#LyoPronto.qrf_integrate-Tuple{Any, Any}"><code>LyoPronto.qrf_integrate</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">qrf_integrate(sol, RF_params)</code></pre><p>Compute the integral over time of each heat transfer mode in the lumped capacitance model.</p><p>Returns as a Dict{String, Quantity{...}}, with string keys <code>Qsub, Qshf, Qvwf, QRFf, QRFvw</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L212-L218">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.tendplot" href="#LyoPronto.tendplot"><code>LyoPronto.tendplot</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">tendplot(t_end)
tendplot!(t_end)</code></pre><p>Plot recipe that adds a labeled vertical line to the plot at time <code>t_end</code>.  A default label and styling are applied, but these can be modified by keyword arguments as usual</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L190-L196">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.tendplot!" href="#LyoPronto.tendplot!"><code>LyoPronto.tendplot!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">tendplot(t_end)
tendplot!(t_end)</code></pre><p>Plot recipe that adds a labeled vertical line to the plot at time <code>t_end</code>.  A default label and styling are applied, but these can be modified by keyword arguments as usual</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/recipes.jl#L190-L196">source</a></section></article><h2 id="Vial-Dimensions"><a class="docs-heading-anchor" href="#Vial-Dimensions">Vial Dimensions</a><a id="Vial-Dimensions-1"></a><a class="docs-heading-anchor-permalink" href="#Vial-Dimensions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.get_vial_mass-Tuple{String}" href="#LyoPronto.get_vial_mass-Tuple{String}"><code>LyoPronto.get_vial_mass</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_vial_mass(vialsize::String)</code></pre><p>Return vial mass for given ISO vial size.</p><p>Uses a table provided by Schott, stored internally in a CSV.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/get_vial_dims.jl#L42-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.get_vial_radii-Tuple{String}" href="#LyoPronto.get_vial_radii-Tuple{String}"><code>LyoPronto.get_vial_radii</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_vial_radii(vialsize::String)</code></pre><p>Return inner and outer radius for passed ISO vial size.</p><p>Uses a table provided by Schott, stored internally in a CSV.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/get_vial_dims.jl#L7-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.get_vial_shape-Tuple{String}" href="#LyoPronto.get_vial_shape-Tuple{String}"><code>LyoPronto.get_vial_shape</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_vial_shape(vialsize::String)</code></pre><p>Return a Dict{Symbol, Any} with a slew of vial dimensions, useful for drawing the shape of the vial with <a href="#LyoPronto.make_outlines-Tuple{Any, Any}"><code>make_outlines</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/get_vial_dims.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.get_vial_thickness-Tuple{String}" href="#LyoPronto.get_vial_thickness-Tuple{String}"><code>LyoPronto.get_vial_thickness</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_vial_thickness(vialsize::String)</code></pre><p>Return vial wall thickness for given ISO vial size.</p><p>Uses a table provided by Schott, stored internally in a CSV.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/get_vial_dims.jl#L25-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.make_outlines-Tuple{Any, Any}" href="#LyoPronto.make_outlines-Tuple{Any, Any}"><code>LyoPronto.make_outlines</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make_outlines(dims, Vfill)</code></pre><p>Return a sequence of points (ready to be made into <code>Plots.Shape</code>s for the vial and fill volume, with Unitful dimensions, for given vial dimensions.</p><p>This is a convenience function for making figures illustrating fill depth.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/get_vial_dims.jl#L85-L91">source</a></section></article><h2 id="Model-Equations"><a class="docs-heading-anchor" href="#Model-Equations">Model Equations</a><a id="Model-Equations-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Equations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.end_drying_callback" href="#LyoPronto.end_drying_callback"><code>LyoPronto.end_drying_callback</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A callback for use in simulating either the Pikal or RF model.</p><p>Terminates the time integration when <a href="#LyoPronto.end_cond-Tuple{Any, Any, Any}"><code>end_cond</code></a> evaluates to <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/pikal_model.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.end_cond-Tuple{Any, Any, Any}" href="#LyoPronto.end_cond-Tuple{Any, Any, Any}"><code>LyoPronto.end_cond</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">end_cond(u, t, integ)</code></pre><p>Compute the end condition for primary drying (that <code>mf</code> or <code>hf</code> approaches zero).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/pikal_model.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.lumped_cap_rf-Tuple{Any, Any, Any}" href="#LyoPronto.lumped_cap_rf-Tuple{Any, Any, Any}"><code>LyoPronto.lumped_cap_rf</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">lumped_cap_rf(u, params, tn)</code></pre><p>Compute the right-hand-side function for the ODEs making up the lumped-capacitance microwave-assisted model.</p><p>Specifically, this is <code>[dmf/dt, dTf/dt, dTvw/dt]</code> given <code>u = [mf, Tf, Tvw]</code>. <code>u</code> is taken without units but assumed to have the units of <code>[g, K, K]</code> (which is internally added). <code>tn</code> is assumed to be in hours (internally added), so <code>dudt</code> is returned with assumed units <code>[g/hr, K/hr, K/hr]</code> to be consistent.</p><p>The full set of necessary parameters is given in the form of a tuple-of-tuples:</p><pre><code class="nohighlight hljs">params = (   
    (Rp, h_f0, cSolid, ρ_solution),
    (K_shf_f, A_v, A_p),
    (pch, Tsh, P_per_vial),
    (m_f0, cp_f, m_v, cp_v, A_rad),
    (f_RF, epp_f, epp_vw),
    (K_vwf, B_f, B_vw, alpha),
)</code></pre><p>These should all be Unitful quantities with appropriate dimensions, with some exceptions which are callables returning quantities. See <a href="#LyoPronto.RpFormFit"><code>RpFormFit</code></a> and <a href="#LyoPronto.RampedVariable"><code>RampedVariable</code></a> for convenience types that can help with these cases.</p><ul><li><p><code>Rp(x)</code> with <code>x</code> a length returns mass transfer resistance (as a Unitful quantity)</p></li><li><p><code>K_shf_f(p)</code> with <code>p</code> a pressure returns heat transfer coefficient (as a Unitful quantity).</p></li><li><p><code>Tsh(t)</code>, <code>pch(t)</code>, <code>P_per_vial(t)</code> return shelf temperature, chamber pressure, and microwave power respectively at time <code>t</code>.</p></li><li><p><code>A_rad</code> and <code>alpha</code> are used only in the LC2 and LC3 versions of the model, and can be left out.</p></li></ul><p>For implementation details, see <a href="#LyoPronto.lumped_cap_rf_LC1-Tuple{Any, Any, Any}"><code>lumped_cap_rf_LC1</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/rf_lumcap_model.jl#L23-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.lumped_cap_rf_LC1-Tuple{Any, Any, Any}" href="#LyoPronto.lumped_cap_rf_LC1-Tuple{Any, Any, Any}"><code>LyoPronto.lumped_cap_rf_LC1</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">lumped_cap_rf_LC1(u, params, tn)</code></pre><p>This does the work for <a href="#LyoPronto.lumped_cap_rf-Tuple{Any, Any, Any}"><code>lumped_cap_rf</code></a>, but returns <code>dudt,  [Q_sub, Q_shf, Q_vwf, Q_RF_f, Q_RF_vw, Q_shw]</code> with <code>Q_...</code> as Unitful quantities in watts.  The extra results are helpful in investigating the significance of the various heat transfer modes, but are not necessary in the ODE integration.</p><p>LC1: Q<em>shw evaluated with K</em>shf; shape factor included; α=0 My preferred version.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/rf_lumcap_model.jl#L59-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.lyo_1d_dae!-NTuple{4, Any}" href="#LyoPronto.lyo_1d_dae!-NTuple{4, Any}"><code>LyoPronto.lyo_1d_dae!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">lyo_1d_dae!(du, u, params, t)</code></pre><p>Internal implementation of the Pikal model. See <a href="#LyoPronto.lyo_1d_dae_f"><code>lyo_1d_dae_f</code></a> for the wrapped version, which is more fully documented.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/pikal_model.jl#L22-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.lyo_1d_dae_f" href="#LyoPronto.lyo_1d_dae_f"><code>LyoPronto.lyo_1d_dae_f</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">lyo_1d_dae_f = ODEFunction(lyo_1d_dae!, mass_matrix=lyo_1d_mm)</code></pre><p>Compute the right hand side function for the Pikal model.</p><p>The DAE system which is the Pikal model (1 ODE, one nonlinear algebraic equation for pseudosteady conditions) is here treated as a constant-mass-matrix implicit ODE system. The implementation is in <a href="#LyoPronto.lyo_1d_dae!-NTuple{4, Any}"><code>lyo_1d_dae!</code></a></p><p>The initial conditions <code>u0 = [h_f, Tf]</code> should be unitless, but are internally assigned to be in <code>[cm, K]</code>. The unitless time is taken to be in hours, so derivatives are given in unitless <code>[cm/hr, K/hr]</code>.</p><p><code>params</code> has the form:</p><pre><code class="nohighlight hljs">params = (
    (Rp, hf0, c_solid, ρ_solution),
    (Kshf, Av, Ap),
    (pch, Tsh) ,
)</code></pre><p>where those listed following are callables returning <code>Quantity</code>s, and the rest are <code>Quantity</code>s. See <a href="#LyoPronto.RpFormFit"><code>RpFormFit</code></a> and <a href="#LyoPronto.RampedVariable"><code>RampedVariable</code></a> for convenience types that can help with the callables.</p><ul><li><code>Rp(x)</code> with <code>x</code> a length returns mass transfer resistance (as a Unitful quantity)</li><li><code>Kshf(p)</code> with <code>p</code> a pressure returns heat transfer coefficient (as a Unitful quantity).</li><li><code>Tsh(t)</code>, <code>pch(t)</code> return shelf temperature and chamber pressure respectively at time <code>t</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/pikal_model.jl#L57-L82">source</a></section></article><h2 id="Physical-Properties"><a class="docs-heading-anchor" href="#Physical-Properties">Physical Properties</a><a id="Physical-Properties-1"></a><a class="docs-heading-anchor-permalink" href="#Physical-Properties" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.calc_psub-Tuple{F} where F&lt;:Number" href="#LyoPronto.calc_psub-Tuple{F} where F&lt;:Number"><code>LyoPronto.calc_psub</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_psub(T::F) where F&lt;:Number
calc_psub(T::Q) where Q&lt;:Quantity</code></pre><p>Compute pressure (in Pascals) of sublimation at temperature <code>T</code> in Kelvin.</p><p>This is essentially an Arrhenius fit, where we compute: <code>psub = pref * exp(-ΔHsub*Mw/R/T)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/physical_properties.jl#L33-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LyoPronto.Dielectric" href="#LyoPronto.Dielectric"><code>LyoPronto.Dielectric</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Single-purpose module for computing the dielectric loss coefficient of ice, as a function of temperature and frequency. This module exports a function <code>ϵpp_f(T, f)</code> for doing so. (Set as a separate module just to keep namespaces clean.) This code is a nearly-direct implementation of the correlation, Eqs. 3-6 presented in: Takeshi Matsuoka, Shuji Fujita, Shinji Mae; Effect of temperature on dielectric properties of ice in the range 5–39 GHz. J. Appl. Phys. 15 November 1996; 80 (10): 5884–5890. https://doi.org/10.1063/1.363582</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LyoHUB/LyoPronto.jl/blob/5d67b24af9bf8936c03e7b3deccb1b34af5f037f/src/physical_properties.jl#L46-L52">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../example_conv/">« Example, conventional lyo</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Thursday 21 November 2024 11:39">Thursday 21 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
